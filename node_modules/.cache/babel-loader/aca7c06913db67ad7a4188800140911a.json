{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gerze\\\\Desktop\\\\inmobiliariamontevideoMarr\\\\src\\\\context\\\\cartContext.js\",\n    _s = $RefreshSig$();\n\n//Creo el contexto\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst Provider = props => {\n  _s();\n\n  const [cart, setCart] = useState([]);\n  const [suma, setSuma] = useState(0);\n\n  const totalCart = () => {\n    // const suma = cart.reduce((a, b) => (a.stock * a.precio + b.stock * b.precio))\n    let suma = 0;\n    cart.forEach(item => suma += item.precio * item.stock);\n    setSuma(suma);\n  };\n\n  useEffect(() => {\n    console.log(cart);\n    totalCart();\n  }, [cart]);\n\n  const addToCart = (item, cantidad) => {\n    if (isInCart(item.id)) {\n      // alert('Ya está en el carrito');\n      cart.map(product => {\n        if (product.id === item.id) {\n          product.cantidad = cantidad;\n          console.log('cart', cart);\n          setCart(cart);\n        }\n      });\n    } else {\n      setCart([...cart, { ...item,\n        cantidad\n      }]);\n    }\n  };\n\n  const isInCart = id => {\n    return cart.some(item => item.id === id);\n  };\n\n  const deleteOne = id => {\n    const productosFiltrados = cart.filter(prod => prod.id !== id);\n    setCart(productosFiltrados);\n  };\n\n  const deleteAll = () => {\n    setCart([]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addToCart,\n      deleteAll,\n      deleteOne,\n      suma\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Provider, \"pj094sjmVMbdVt9TWz831kPAHpY=\");\n\n_c = Provider;\nexport default Provider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["createContext","useEffect","useState","CartContext","Provider","props","cart","setCart","suma","setSuma","totalCart","forEach","item","precio","stock","console","log","addToCart","cantidad","isInCart","id","map","product","some","deleteOne","productosFiltrados","filter","prod","deleteAll","children"],"sources":["C:/Users/gerze/Desktop/inmobiliariamontevideoMarr/src/context/cartContext.js"],"sourcesContent":["//Creo el contexto\r\nimport { createContext, useEffect, useState } from \"react\";\r\n\r\n\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst Provider = (props) => {\r\n    const [cart, setCart] = useState([])\r\n    const [suma, setSuma] = useState(0)\r\n\r\n    const totalCart = () => {\r\n        // const suma = cart.reduce((a, b) => (a.stock * a.precio + b.stock * b.precio))\r\n        let  suma = 0\r\n        cart.forEach(item => suma += (item.precio * item.stock));\r\n        setSuma(suma)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(cart)\r\n        totalCart()\r\n    }, [cart])\r\n\r\n    const addToCart = (item, cantidad) => {\r\n        if (isInCart(item.id)) {\r\n            // alert('Ya está en el carrito');\r\n            cart.map(product => {\r\n                if(product.id === item.id){\r\n                    product.cantidad = cantidad\r\n                    console.log('cart', cart)\r\n                    setCart(cart)\r\n                }\r\n            })\r\n            \r\n        } else {\r\n            setCart([...cart, { ...item, cantidad }]);\r\n        }\r\n    }\r\n\r\n    const isInCart = (id) => {\r\n        return cart.some((item) => item.id === id);\r\n    };\r\n\r\n    const deleteOne = (id) => {\r\n        const productosFiltrados = cart.filter((prod) => prod.id !== id);\r\n        setCart(productosFiltrados);\r\n    }\r\n\r\n    const deleteAll = () => {\r\n        setCart([])\r\n    }\r\n\r\n    return (\r\n         <CartContext.Provider value={{ cart, addToCart, deleteAll, deleteOne, suma }}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    )\r\n}\r\n\r\nexport default Provider"],"mappings":";;;AAAA;AACA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;;AAIA,OAAO,MAAMC,WAAW,gBAAGH,aAAa,EAAjC;;AAEP,MAAMI,QAAQ,GAAIC,KAAD,IAAW;EAAA;;EACxB,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,CAAD,CAAhC;;EAEA,MAAMQ,SAAS,GAAG,MAAM;IACpB;IACA,IAAKF,IAAI,GAAG,CAAZ;IACAF,IAAI,CAACK,OAAL,CAAaC,IAAI,IAAIJ,IAAI,IAAKI,IAAI,CAACC,MAAL,GAAcD,IAAI,CAACE,KAAjD;IACAL,OAAO,CAACD,IAAD,CAAP;EACH,CALD;;EAOAP,SAAS,CAAC,MAAM;IACZc,OAAO,CAACC,GAAR,CAAYV,IAAZ;IACAI,SAAS;EACZ,CAHQ,EAGN,CAACJ,IAAD,CAHM,CAAT;;EAKA,MAAMW,SAAS,GAAG,CAACL,IAAD,EAAOM,QAAP,KAAoB;IAClC,IAAIC,QAAQ,CAACP,IAAI,CAACQ,EAAN,CAAZ,EAAuB;MACnB;MACAd,IAAI,CAACe,GAAL,CAASC,OAAO,IAAI;QAChB,IAAGA,OAAO,CAACF,EAAR,KAAeR,IAAI,CAACQ,EAAvB,EAA0B;UACtBE,OAAO,CAACJ,QAAR,GAAmBA,QAAnB;UACAH,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBV,IAApB;UACAC,OAAO,CAACD,IAAD,CAAP;QACH;MACJ,CAND;IAQH,CAVD,MAUO;MACHC,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAU,EAAE,GAAGM,IAAL;QAAWM;MAAX,CAAV,CAAD,CAAP;IACH;EACJ,CAdD;;EAgBA,MAAMC,QAAQ,GAAIC,EAAD,IAAQ;IACrB,OAAOd,IAAI,CAACiB,IAAL,CAAWX,IAAD,IAAUA,IAAI,CAACQ,EAAL,KAAYA,EAAhC,CAAP;EACH,CAFD;;EAIA,MAAMI,SAAS,GAAIJ,EAAD,IAAQ;IACtB,MAAMK,kBAAkB,GAAGnB,IAAI,CAACoB,MAAL,CAAaC,IAAD,IAAUA,IAAI,CAACP,EAAL,KAAYA,EAAlC,CAA3B;IACAb,OAAO,CAACkB,kBAAD,CAAP;EACH,CAHD;;EAKA,MAAMG,SAAS,GAAG,MAAM;IACpBrB,OAAO,CAAC,EAAD,CAAP;EACH,CAFD;;EAIA,oBACK,QAAC,WAAD,CAAa,QAAb;IAAsB,KAAK,EAAE;MAAED,IAAF;MAAQW,SAAR;MAAmBW,SAAnB;MAA8BJ,SAA9B;MAAyChB;IAAzC,CAA7B;IAAA,UACIH,KAAK,CAACwB;EADV;IAAA;IAAA;IAAA;EAAA,QADL;AAKH,CAlDD;;GAAMzB,Q;;KAAAA,Q;AAoDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}